!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["redux-navigation"]=t():e["redux-navigation"]=t()}(this,function(){return function(e){function t(e){delete installedChunks[e]}function n(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=p.p+""+e+"."+w+".hot-update.js",t.appendChild(n)}function r(){return new Promise(function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var n=new XMLHttpRequest,r=p.p+""+w+".hot-update.json";n.open("GET",r,!0),n.timeout=1e4,n.send(null)}catch(e){return t(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)t(new Error("Manifest request to "+r+" timed out."));else if(404===n.status)e();else if(200!==n.status&&304!==n.status)t(new Error("Manifest request to "+r+" failed."));else{try{var o=JSON.parse(n.responseText)}catch(e){return void t(e)}e(o)}}})}function o(e){var t=D[e];if(!t)return p;var n=function(n){return t.hot.active?(D[n]?D[n].parents.indexOf(e)<0&&D[n].parents.push(e):(E=[e],v=n),t.children.indexOf(n)<0&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),E=[]),p(n)};for(var r in p)Object.prototype.hasOwnProperty.call(p,r)&&"e"!==r&&Object.defineProperty(n,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return p[e]},set:function(t){p[e]=t}}}(r));return n.e=function(e){function t(){N--,"prepare"===P&&(j[e]||s(e),0===N&&0===I&&f())}return"ready"===P&&a("prepare"),N++,p.e(e).then(t,function(e){throw t(),e})},n}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:u,apply:l,status:function(e){if(!e)return P;A.push(e)},addStatusHandler:function(e){A.push(e)},removeStatusHandler:function(e){var t=A.indexOf(e);t>=0&&A.splice(t,1)},data:b[e]};return v=void 0,t}function a(e){P=e;for(var t=0;t<A.length;t++)A[t].call(null,e)}function c(e){return+e+""===e?+e:e}function u(e){if("idle"!==P)throw new Error("check() is only allowed in idle status");return g=e,a("check"),r().then(function(e){if(!e)return a("idle"),null;x={},j={},R=e.c,_=e.h,a("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});O={};return s(0),"prepare"===P&&0===N&&0===I&&f(),t})}function d(e,t){if(R[e]&&x[e]){x[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(O[n]=t[n]);0==--I&&0===N&&f()}}function s(e){R[e]?(x[e]=!0,I++,n(e)):j[e]=!0}function f(){a("ready");var e=y;if(y=null,e)if(g)l(g).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in O)Object.prototype.hasOwnProperty.call(O,n)&&t.push(c(n));e.resolve(t)}}function l(n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==P)throw new Error("apply() is only allowed in ready status");n=n||{};var o,i,u,d,s,f={},l=[],h={},v=function(){console.warn("[HMR] unexpected require("+g.moduleId+") to disposed module")};for(var y in O)if(Object.prototype.hasOwnProperty.call(O,y)){s=c(y);var g;g=O[y]?function(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var i=o.pop(),a=i.id,c=i.chain;if((d=D[a])&&!d.hot._selfAccepted){if(d.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:a};if(d.hot._main)return{type:"unaccepted",chain:c,moduleId:a};for(var u=0;u<d.parents.length;u++){var s=d.parents[u],f=D[s];if(f){if(f.hot._declinedDependencies[a])return{type:"declined",chain:c.concat([s]),moduleId:a,parentId:s};t.indexOf(s)>=0||(f.hot._acceptedDependencies[a]?(n[s]||(n[s]=[]),r(n[s],[a])):(delete n[s],t.push(s),o.push({chain:c.concat([s]),id:s})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}(s):{type:"disposed",moduleId:y};var m=!1,A=!1,I=!1,N="";switch(g.chain&&(N="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":n.onDeclined&&n.onDeclined(g),n.ignoreDeclined||(m=new Error("Aborted because of self decline: "+g.moduleId+N));break;case"declined":n.onDeclined&&n.onDeclined(g),n.ignoreDeclined||(m=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+N));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(g),n.ignoreUnaccepted||(m=new Error("Aborted because "+s+" is not accepted"+N));break;case"accepted":n.onAccepted&&n.onAccepted(g),A=!0;break;case"disposed":n.onDisposed&&n.onDisposed(g),I=!0;break;default:throw new Error("Unexception type "+g.type)}if(m)return a("abort"),Promise.reject(m);if(A){h[s]=O[s],r(l,g.outdatedModules);for(s in g.outdatedDependencies)Object.prototype.hasOwnProperty.call(g.outdatedDependencies,s)&&(f[s]||(f[s]=[]),r(f[s],g.outdatedDependencies[s]))}I&&(r(l,[g.moduleId]),h[s]=v)}var j=[];for(i=0;i<l.length;i++)s=l[i],D[s]&&D[s].hot._selfAccepted&&j.push({module:s,errorHandler:D[s].hot._selfAccepted});a("dispose"),Object.keys(R).forEach(function(e){!1===R[e]&&t(e)});for(var x,T=l.slice();T.length>0;)if(s=T.pop(),d=D[s]){var M={},S=d.hot._disposeHandlers;for(u=0;u<S.length;u++)(o=S[u])(M);for(b[s]=M,d.hot.active=!1,delete D[s],u=0;u<d.children.length;u++){var U=D[d.children[u]];U&&((x=U.parents.indexOf(s))>=0&&U.parents.splice(x,1))}}var G,C;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)&&(d=D[s]))for(C=f[s],u=0;u<C.length;u++)G=C[u],(x=d.children.indexOf(G))>=0&&d.children.splice(x,1);a("apply"),w=_;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(e[s]=h[s]);var H=null;for(s in f)if(Object.prototype.hasOwnProperty.call(f,s)){d=D[s],C=f[s];var k=[];for(i=0;i<C.length;i++)G=C[i],o=d.hot._acceptedDependencies[G],k.indexOf(o)>=0||k.push(o);for(i=0;i<k.length;i++){o=k[i];try{o(C)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:s,dependencyId:C[i],error:e}),n.ignoreErrored||H||(H=e)}}}for(i=0;i<j.length;i++){var V=j[i];s=V.module,E=[s];try{p(s)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:t,orginalError:e}),n.ignoreErrored||H||(H=t),H||(H=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:s,error:e}),n.ignoreErrored||H||(H=e)}}return H?(a("fail"),Promise.reject(H)):(a("idle"),Promise.resolve(l))}function p(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:i(t),parents:(m=E,E=[],m),children:[]};return e[t].call(n.exports,n,n.exports,o(t)),n.l=!0,n.exports}var h=this.webpackHotUpdateredux_navigation;this.webpackHotUpdateredux_navigation=function(e,t){d(e,t),h&&h(e,t)};var v,y,O,_,g=!0,w="149954abf2efc0b88637",b={},E=[],m=[],A=[],P="idle",I=0,N=0,j={},x={},R={},D={};return p.m=e,p.c=D,p.i=function(e){return e},p.d=function(e,t,n){p.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},p.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(t,"a",t),t},p.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},p.p="",p.h=function(){return w},o(0)(p.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=r(o),a=n(1),c=r(a);t.default={navigationMiddleware:i.default,navigationCore:c.default}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(i),c=function(){function e(){var t=this;r(this,e),this.encodeRouterObj=function(e){var t=JSON.stringify(e);return window.btoa(t)},this.decodeRouterUrl=function(e){if(!e)return!1;var t=window.atob(e);return JSON.parse(t)},this.startListening=function(e){window.onpopstate=function(){e()}},this.pushState=function(e,t){window.history.pushState({currentState:t},"",e)},this.updateQueryString=function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|#|$)","i"),o=e,i="";return void 0===n?o.match(r)?o.replace(r,"$1$2"):o:o.match(r)?o.replace(r,"$1"+t+"="+n+"$2"):(-1!==o.indexOf("#")&&(i=o.replace(/.*#/,"#"),o=o.replace(/#.*/,"")),o+(-1!==o.indexOf("?")?"&":"?")+t+"="+n+i)},this.getNavigationValue=function(e,n){return e.split("&").filter(function(e){return e.indexOf(n)>=0}).toString().split(t.navigationPrefix)[1]},a.default.canUseDOM&&(this.navigationPrefix="nav")}return o(e,[{key:"getNavigationFromUrl",value:function(){var e=window.location;if(!e||""===e.search||e.search===this.navigationPrefix)return!1;var t=this.getNavigationValue(e.search,this.navigationPrefix);return!!t&&this.decodeRouterUrl(t.substring(1))}},{key:"handleOpen",value:function(e){if(e){var t=this.encodeRouterObj(e),n=this.updateQueryString(window.location.href,this.navigationPrefix,t);this.pushState(n,n)}}},{key:"handleClose",value:function(e,t){var n=window.location,r=e?this.encodeRouterObj(e):"",o=t?this.encodeRouterObj(t):"",i=n.search.toString().replace(o,r);this.pushState(""+n.pathname+i,i)}}]),e}();t.default=new c},function(e,t,n){"use strict";function r(e,t,n){return!!e&&((e instanceof Array?e:[e]).map(function(e){return e===t&&n()}),!0)}function o(e,t){var n=e.page,r=t.dispatch;return!!n&&function(){r({type:d.NAVIGATION_CURRENT_ROUTE,page:n}),c.default.handleOpen(n)}}function i(e,t){var n=e.page;if(!n)return!1;var r=(0,s.getPreviousPath)(t.getState()),o=(0,s.getCurrentPath)(t.getState());return function(){t.dispatch({type:d.NAVIGATION_CURRENT_ROUTE,page:n}),c.default.handleClose(r,o)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(3),d=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),s=n(4),f=function(e){return function(t){return function(n){return r(d.NAVIGATION_OPEN_PAGE,n,o(n,e)),r([d.NAVIGATION_CLOSE_PAGE,d.NAVIGATION_BROWSER_BACK],n,i(n,e)),t(n)}}};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.NAVIGATION_CLOSE_PAGE="NAVIGATION_CLOSE_PAGE",t.NAVIGATION_OPEN_PAGE="NAVIGATION_OPEN_PAGE",t.NAVIGATION_BROWSER_BACK="NAVIGATION_BROWSER_BACK",t.NAVIGATION_CURRENT_ROUTE="NAVIGATION_CURRENT_ROUTE"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPreviousPath=t.getCurrentPath=void 0;var r=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.getCurrentPath=function(e){return!!e.router&&e.router.currentRoute},t.getPreviousPath=function(e){return!!e.router&&(0,o.default)(e.router.navigation)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e[e.length-1]};t.default=r},function(e,t,n){var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0!==(r=function(){return i}.call(t,n,t,e))&&(e.exports=r)}()}])});